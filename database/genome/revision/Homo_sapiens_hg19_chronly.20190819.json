{"https://moirai2.github.io/schema/daemon/input":{"$outdir":"genome"},"https://moirai2.github.io/schema/daemon/bash":["url=\"http://hgdownload.soe.ucsc.edu/goldenPath/hg19/bigZips/hg19.fa.gz\"","mkdir -p $outdir","path=$outdir/hg19_male.fa","download=$(perl $tmpdir/download.pl $url $tmpdir)","gzip -cd $download|perl $tmpdir/pick.pl chr1 chr2 chr3 chr4 chr5 chr6 chr7 chr8 chr9 chr10 chr11 chr12 chr13 chr14 chr15 chr16 chr17 chr18 chr19 chr20 chr21 chr22 chrM chrX chrY>$path","rm $download"],"https://moirai2.github.io/schema/daemon/script":[{"https://moirai2.github.io/schema/daemon/script/name":"$tmpdir/download.pl","https://moirai2.github.io/schema/daemon/script/code":["use LWP::UserAgent;","use HTTP::Request;","use File::Basename;","my $url=shift(@ARGV);","my $outdir=shift(@ARGV);","my $agent=new LWP::UserAgent();","$agent->agent('download.pl/1.0');","$agent->timeout(10);","$agent->env_proxy;","my $request=HTTP::Request->new(GET=>$url);","my $filename=\"$outdir/\".basename($url);","my $res=$agent->request($request);","if($res->is_success){","open(OUT,\">$filename\");","print OUT $res->content;","close(OUT);","print \"$filename\n\";","}elsif(","$res->is_error){","exit(1);","}"]},{"https://moirai2.github.io/schema/daemon/script/name":"$tmpdir/pick.pl","https://moirai2.github.io/schema/daemon/script/code":["my @chromosomes=@ARGV;","my $hashtable={};","foreach my $chr(@chromosomes){$hashtable->{$chr}=1;}","my $found=0;","while(<STDIN>){","	my $line=$_;","	if(/^>\s*(\w+)\s*$/){$found=exists($hashtable->{$1});}","	if($found){print $line;}","}"]}],"https://moirai2.github.io/schema/daemon/output":"$path"}
