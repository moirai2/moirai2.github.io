{"https://moirai2.github.io/schema/daemon/input":{"$outdir":"genome"},"https://moirai2.github.io/schema/daemon/bash":["url=\"http://hgdownload.soe.ucsc.edu/goldenPath/mm10/bigZips/chromFa.tar.gz\"","mkdir -p $outdir","path=$outdir/mm10.fa","download=$(perl $tmpdir/download.pl $url $tmpdir)","cd $tmpdir","mkdir mm10","mv chromFa.tar.gz mm10/.","cd mm10","tar -zxf chromFa.tar.gz","rm chromFa.tar.gz","cat chr1.fa chr2.fa chr3.fa chr4.fa chr5.fa chr6.fa chr7.fa chr8.fa chr9.fa chr10.fa chr11.fa chr12.fa chr13.fa chr14.fa chr15.fa chr16.fa chr17.fa chr18.fa chr19.fa chrX.fa chrY.fa chrM.fa>../mm10.fa","cd $cwd","rm -r $tmpdir/mm10","mv $tmpdir/mm10.fa $outdir/."],"https://moirai2.github.io/schema/daemon/script":[{"https://moirai2.github.io/schema/daemon/script/name":"$tmpdir/download.pl","https://moirai2.github.io/schema/daemon/script/code":["use LWP::UserAgent;","use HTTP::Request;","use File::Basename;","my $url=shift(@ARGV);","my $outdir=shift(@ARGV);","my $agent=new LWP::UserAgent();","$agent->agent('download.pl/1.0');","$agent->timeout(10);","$agent->env_proxy;","my $request=HTTP::Request->new(GET=>$url);","my $filename=\"$outdir/\".basename($url);","my $res=$agent->request($request);","if($res->is_success){","open(OUT,\">$filename\");","print OUT $res->content;","close(OUT);","print \"$filename\n\";","}elsif(","$res->is_error){","exit(1);","}"]}],"https://moirai2.github.io/schema/daemon/output":"$path"}
