{"https://moirai2.github.io/schema/daemon/input":{"$bindir":"bin"},"https://moirai2.github.io/schema/daemon/bash":["os=`perl $tmpdir/os.pl`","url=\"https://sourceforge.net/projects/bowtie-bio/files/bowtie2/2.3.5.1/bowtie2-2.3.5.1-$os.zip/download\"","log=$tmpdir/log.txt","mkdir -p $bindir","download=$(perl $tmpdir/download.pl $url $tmpdir)","unzip -d $tmpdir $tmpdir/bowtie2-2.3.5.1-$os.zip>../log.txt 2>&1","cp $tmpdir/bowtie2-2.3.5.1-$os/bowtie2* $bindir/.","rm -r $tmpdir/bowtie2-2.3.5.1-$os","rm $tmpdir/bowtie2-2.3.5.1-$os.zip","path=$bindir/bowtie2"],"https://moirai2.github.io/schema/daemon/script":[{"https://moirai2.github.io/schema/daemon/script/name":"$tmpdir/download.pl","https://moirai2.github.io/schema/daemon/script/code":["use LWP::UserAgent;","use HTTP::Request;","use File::Basename;","my $url=shift(@ARGV);","my $outdir=shift(@ARGV);","my $agent=new LWP::UserAgent();","$agent->agent('download.pl/1.0');","$agent->timeout(10);","$agent->env_proxy;","my $request=HTTP::Request->new(GET=>$url);","my $filename=\"$outdir/\".basename(dirname($url));","my $res=$agent->request($request);","if($res->is_success){","open(OUT,\">$filename\");","print OUT $res->content;","close(OUT);","print \"$filename\\n\";","}elsif(","$res->is_error){","exit(1);","}"]},{"https://moirai2.github.io/schema/daemon/script/name":"$tmpdir/os.pl","https://moirai2.github.io/schema/daemon/script/code":["my $name=`uname -s`;","chomp($name);","my $machine=`uname -m`;","chomp($machine);","if($name eq \"Darwin\"){$name=\"macos\";}","if($name eq \"Linux\"){$name=\"linux\";}","print $name.\"-\".$machine.\"\\n\";"]}],"https://moirai2.github.io/schema/daemon/output":["$path","$log"]}
