{"https://moirai2.github.io/schema/daemon/input":["$input1","$input2","$starindex"],"https://moirai2.github.io/schema/daemon/bash":["if [[ $input1 == *.gz ]]","then","filename=$(basename $input1 .gz)","gzip -cd $input1 > $workdir/read1.fq","gzip -cd $input2 > $workdir/read2.fq","elif [[ $input1 == *.bz2 ]]","then","filename=$(basename $input1 .bz2)","bzip2 -cd $input1 > $workdir/read1.fq","bzip2 -cd $input2 > $workdir/read2.fq","else","filename=$(basename $input1)","cp $input1 $workdir/read1.fq","cp $input2 $workdir/read2.fq","fi","basename=\"${filename%.*}\"","sam=\"$workdir/$basename.Aligned.out.sam\"","bam=\"$workdir/$basename.bam\"","log=\"$workdir/$basename.Log.out\"","STAR --genomeDir $starindex --readFilesIn $workdir/read1.fq $workdir/read2.fq --outFileNamePrefix $workdir/$basename. --outSAMattributes All --outSAMunmapped Within --quantMode GeneCounts","samtools view -bSo $bam $sam","genecounts=$workdir/$basename.ReadsPerGene.out.tab","rm $sam","rm $workdir/read1.fq","rm $workdir/read2.fq","rm $workdir/$basename.Log.final.out","rm $workdir/$basename.Log.progress.out","rm $workdir/$basename.SJ.out.tab","rm $workdir/$stderrfile","rm $workdir/$stdoutfile","rmdir $workdir/*._STARtmp/ > /dev/null 2>&1"],"https://moirai2.github.io/schema/daemon/output":["$bam","$log","genecounts"],"https://moirai2.github.io/schema/daemon/qsubopt":"-q bigmem.q"}
