{"http://localhost/~ah3q/schema/daemon/select":["$input->http://localhost/~ah3q/schema/daemon/execute->$nodeid","$nodeid->http://localhost/~ah3q/schema/daemon/command->$this","$nodeid->$this#top->$top"],"http://localhost/~ah3q/schema/daemon/bash":["sampleseq=\"$tmpdir/sampleseq.txt\"","perl $tmpdir/sampleseq.pl $input $top > $sampleseq"],"http://localhost/~ah3q/schema/daemon/script":{"http://localhost/~ah3q/schema/daemon/script/name":"$tmpdir/sampleseq.pl","http://localhost/~ah3q/schema/daemon/script/code":["my $file=$ARGV[0];","my $number=$ARGV[1];","if(!defined($number)){$number=10;}","my $command=\"$file\";","if($file=~/\\.bz2$/){$command=\"bzip2 -cd $file|\"}","if($file=~/\\.gz$/){$command=\"gzip -cd $file|\"}","open(IN,$command);","my $index=1;","my $order=1;","my $prevcount;","while(<IN>){","chomp;","my ($sequence,$count)=split(/\t/);","if(!defined($prevcount)){$order=1;}","elsif($prevcount>$count){$order=$index;}","print \"$file\tsampleseq\t$file#sample$index\\n\";","print \"$file#sample$index\tseqorder\t$order\\n\";","print \"$file#sample$index\tseqcount\t$count\\n\";","print \"$file#sample$index\tsequence\t$sequence\\n\";","if($index++>=$number){last;}","$prevcount=$count;","}","close(IN);"]},"http://localhost/~ah3q/schema/daemon/output":"$sampleseq"}
